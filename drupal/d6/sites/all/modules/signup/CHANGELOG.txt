$Id: CHANGELOG.txt,v 1.34 2008/02/08 21:52:20 dww Exp $

-----------
5.x-2.4
-----------
Bug fixes since 5.x-2.3:
= #193068 by bkat and dww: Fixed fatal bug during cron.php with event
  5.x-2.* installed (event_include_files() was missing from a few places).
= Fixed signup_install() not to force tables on MySQL to be MyISAM.
= #199383 by deviantintegral and dww: Fixed bug that could cause signup
  to invoke node_load() with invalid parameters on the node add form.
= #79331: Fixed inconsistent UI: don't capitalize individual words
  (for example, the UI now uses 'Current signups' and 'Cancel signups').
= #107136: Added $uid parameter to _signup_cancel hook (so it can be
  useful for something) and converted to use module_invoke_all().
= #202913 by westwesterson: Fixed ambiguous SQL query on the
  admin/content/signup page when using certain node access modules.
= #212790 by dww: Fixed an SQL 'GROUP BY' bug on the admin/content/signup
  page when PgSQL and the 5.x-1.* series of event.module are used.

New features since 5.x-2.3:
= #190553 by dww: Added a global setting to move the signup form from
  a fieldset on the node to a separate "Sign up" tab.  This feature
  was sponsored by esquaredworkshops.com.
= #195276 by jrbeeman and dww: Enhanced per-node-type signup settings
  to allow admins to completely disable signups on certain node types.
  There are now 3 signup options on the content type settings page:
  - "Disabled": completely prevents signups, even users with
     'administer all signups' cannot signup-enable nodes of this type.
  - "Allowed (off by default)": admins get a "Signup settings"
     fieldset, but signups are disabled by default.
  - "Enabled (on by default)": Signups are enabled by default, but
     admins can disable signups on specific nodes of this type.
= #174715 by dww: Signup administrators can now signup other users.
= #145749 by schittli: Added German (de) translation.


-----------
5.x-2.3
-----------
Bug fixes since 5.x-2.2:
= #169372 and #171363: Fixed bugs with redeclaring functions caused by
  using include() instead of include_once().
= #179540 by dragonwize and dww: Restored the login/register links for
  anonymous users when viewing a signup-enabled node.
= #181627 by stBorchert and dww: Removed an inappropriate WHERE clause
  in the signup UID views argument handler that restricted the query to
  nodes where signups where open. That should be handled via a filter.
= #183417 by dww: Switched to a better method for conditionally
  including views support code. This no longer uses signup_init(),
  which wasn't necessary and made this module listed as incompatible
  with aggressive caching for no good reason.

New features since 5.x-2.2:
= #137911 by dww: Added signup_no_views.inc, moved all hard-coded
  UI functionality there, and provided a default view to list the
  users's current signups (both at their profile and via a block).
  This allows more flexibility for sites using views, since the
  default views for these things can be customized without conflicting
  with the non-views UI.
= #48267 by dww: Added a default view of available signups (events
  without a reply) which is a subtab at user/%uid/signups/available
  and also provided as a block.
= #180154 by KarenS and dww: Added a views filter for if the current
  user is signed up.
= #178021 by stBorchert: Added a new "cancel own signups" permission.
  NOTE: After updating the module and running update.php, all roles
  that previously had the "sign up for content" permission will have
  "cancel own signups", too.
= #180233 by stenjo: Added a Norwegian Bokmal translation.


-----------
5.x-2.2
-----------
Bug fixes since 5.x-2.1:
= #163257 by dww: Anonymous users could cancel all anonymous signups
  once the signup limit is reached or signups are otherwise closed.
  This bug was introduced in version 5.x-2.1.
= #160862 by adrinux and dww: Fixed paging on signup administration form
  (admin/content/signup) due to missing count query.
= #142402 by cpisto: Fixed SQL bug on PgSQL when event.module is enabled.
= #147546 by stBorchert: Removed call to undefined _event_date() when
  using signup broadcast if event.module is not installed.
= #158688 by m3avrck: fixed JS to work with aggregator.
= Code-style fixes (thanks to the coder.module).

New features since 5.x-2.1:
= #154580 by killes and dww: Refactored code to support different
  event-related backend modules. Both event 5.x-1.x and event 5.x-2.x
  are supported, and adding date.module support will now be easy.


-------
5.x-2.1
-------
There are 2 major changes since 5.x-2.0: a long-awaited new feature,
and a critical bug fix for anonymous users:
= #32482: Adding support for signup limits per node:
  - New field on site-wide signup defaults and per-node edit form to
    set or modify the signup limit.
  - Signups auto-close when the limit is reached.
  - Users can now cancel their own signup when signups are closed, and
    if it's not an event-enabled node, or the event hasn't started
    yet, signups automatically re-open.
  - Cleanup of the node/N/signups UI.
  - Even bigger cleanup of admin/content/signups UI.
  - Views support updated to view and filter by signup limit.
= #138401: Fixed a fatal PHP error on certain pages for anonymous
  users when caching is enabled.


-------
5.x-2.0
-------
Initial official release of the 5.x-2.* new feature series.
Enhancements since 5.x-1.0:
= #106808: Initial views integration. At this time, all the fields
  from all signup-related database tables are exported, and there are
  a handful of filters, sorts, and arguments. There are no default
  views yet.
= #106891: Signup broadcast functionality -- sufficiently privileged
  users now have the ability to send an email directly to all the
  users who signed up for a given node on the site by using the
  "signup-broadcast" tab.
= #79332: Cleaned up the user interface for the signup administration
  overview page. It used to be misusing tabs as a way to filter what
  signup status (open, closed, or all) to view. Now there is a
  drop-down selector where the administrator can choose what signup
  status to filter the page with.
= #134609: Added an advanced setting to control if the signup form is
  collapsed or expanded by default.


-------
5.x-1.0
-------
The first official, stable release of the signup.module that is
compatible with the 5.x core API. This release includes all of the bug
fixes mentioned in the 4.7.x-1.1 release, so please see those release
notes for more details. In particular, 5.x-1.0 includes the same
database update from 4.7.x-1.1 that renames the permissions defined by
the signup.module. Sites upgrading to 5.x-1.0 directly from 4.7.x-1.0
should therefore be sure to run update.php.

In addition to the changes required to function properly with the 5.x
version of Drupal core, the 5.x-1.0 release includes the following changes:
= #49007: The fix for all the UI bugs and weird behavior about
  enabling and disabling signups per-node-type and per-node is
  enhanced in the 5.x-1.0 release by including singup.js to implement
  some additional UI enhancements when JavaScript is enabled. This
  depends on the jQuery support that is only included in 5.x core. On
  JS-enabled browsers, when users with signup administrator permission
  are toggling if signups are enabled or not, the other signup
  settings will be automatically hidden when signups are disabled.
= #118648 by Darren Oh: Send reminders after signups are closed.
= #128287: add hook_uninstall()
= Use 'access administration pages' not 'administer site configuration'
  permission to decide what the signup settings menu item should be called.


---------
4.7.x-1.1
---------
After many months of unfortunate neglect, the singup.module has
recently gotten a round of major attention and improvements.  Mostly,
the changes below are bug fixes, but in a few small cases, some new
functionality was added, as well. This release includes a database
update, which renames the permissions this module uses, so be sure to
run update.php on your site, and then visit your 'access control' page
(at /admin/access) to ensure the signup-related permissions are valid
for the roles defined on your site.

Major changes since 4.7.x-1.0:
= #91284: signup.module doesn't respect privacy: db_rewrite_sql() missing
= #91284: signup_conflicts.module doesn't respect privacy: db_rewrite_sql()
  missing
= Major permissions, UI and usability fixes (includes a DB update):
  - #69367: Turn the "Users can view signups" setting into a permission.
  - #69283: Rename all other permissions to be more clear, consistent, etc.
= #49007: Fix all the UI bugs and weird behavior about enabling and
  disabling signups per-node-type and per-node.
= #102949: For consistency, allow the %info token in reminder emails, too.

Other changes since 4.7.x-1.0:
= #126942: Add "Reset to defaults" on settings page.
= #104804 by hunmonk and dww: Fieldsets are now supported in the
  customized signup form. The code should now handle nested values
  regardless of depth.
= #67067: Required fields and default values on signup form. Inspired by
  a patch from pjdevries. Also cleans up the formatting of the $form
  array in this function, vastly improves the doxygen comment, and
  includes a step in the INSTALL.txt file about customizing this form.
= #125705: Make comment in signup.theme about not touching the
  definition of $form['signup_form_data']['#tree'] even more clear.
= #123648: Fixing improper use of links in watchdog() messages
= #78559: Fixing numerous bugs in signup translation:
  - Incorrect use of format_plural()
  - Badly formed t() strings with HTML and other goo inside wildly
    stale (and sometimes missing) .pot files
= #69372: Ported signup to use theme('username') for user links
= In the (evil, hard-coded) HTML for displaying signup information on
  user profile pages, we were leaving an H4 open by accident.
= l() calls check_plain() for you, so we were double-escaping output.
= #107154: Fix signup_sign_up_user() to prevent the same user from
  signing up more than once for the same node.
= #128021 by adrinux: Convert html br to xhtml and use strong instead of b


---------
4.7.x-1.0
---------
Initial official release from the stable 4.7.x-1.* series. There have
been no changes in the signup module since August 2006, so this should
be the same code as any of the signup-4.7.0.tar.gz files from
2006-08-19 and later. Additional releases of this series will only fix
bugs in the existing functionality.
